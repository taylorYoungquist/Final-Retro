var module$fullScreenViewer={};
(function($){$(function(){var diagramIdIndex=$.url().segment().length-1;var diagramId=$.url().segment()[diagramIdIndex];var JsErrorHandler=GLIFFY.Class.extend({report:function(message,exception,target){alert(message+"\n"+exception.stack);var _gaq=_gaq||[];var currentPage=document.URL;if(currentPage.indexOf("?")>-1)currentPage=currentPage.substr(0,currentPage.indexOf("?"));_gaq.push(["_trackEvent","Viewer: "+currentPage,"input_error",message+":"+exception]);window.location="/go/publish/legacy/"+diagramId}});
GLIFFY.setErrorHandler(new JsErrorHandler);window.GLIFFY.viewer=new GLIFFY.Viewer({rootServiceURL:"/go/api"});var options={url:"/go/api/public_diagram.json?diagramId\x3d"+diagramId,target:$("#container"),enablePan:false,callback:viewerCallback$$module$fullScreenViewer};window.GLIFFY.viewer.render(options);var showButton=$("#showPopupNotes");var hideButton=$("#hidePopupNotes");showButton.on("click",function(){window.GLIFFY.viewer.showPopupNotes();showButton.css("display","none");hideButton.css("display",
"")});hideButton.on("click",function(){window.GLIFFY.viewer.hidePopupNotes();hideButton.css("display","none");showButton.css("display","")});$(window).resize(function(){viewerCallback$$module$fullScreenViewer()})})})(jQuery);function _getCssFloat$$module$fullScreenViewer(container,attribute){return parseFloat(container.css(attribute).replace("px",""))}
function viewerCallback$$module$fullScreenViewer(){var diagram=$("#container");var diagramContainer=$("#container-container");var width=_getCssFloat$$module$fullScreenViewer(diagram,"width");var left=_getCssFloat$$module$fullScreenViewer(diagram,"left");var top=_getCssFloat$$module$fullScreenViewer(diagram,"top");if(left<0||top<0){var mindmapsWidthShim=15;var mindmapsHeightShim=22;var height=_getCssFloat$$module$fullScreenViewer(diagram,"height");diagramContainer.css("width",width+left-mindmapsWidthShim+
"px");diagramContainer.css("height",height+top-mindmapsHeightShim+"px");diagramContainer.css("margin","0 auto");diagramContainer.css("overflow","hidden");diagramContainer.css("position","relative");diagram.css("width",width+left+"px")}else{var widthWindow=$(window).width();var heightWindow=$(window).height();var widthOffset=_getCssFloat$$module$fullScreenViewer(diagramContainer,"padding-left");var heightOffset=_getCssFloat$$module$fullScreenViewer($(".image-header"),"height")+_getCssFloat$$module$fullScreenViewer($(".viewer-title-box"),
"height")-_getCssFloat$$module$fullScreenViewer($(".viewer-title-box"),"padding-top")+_getCssFloat$$module$fullScreenViewer(diagramContainer,"margin-top")/2;if(widthWindow<width)diagramContainer.css("width",widthWindow-widthOffset+"px");else diagram.css("padding-left",(widthWindow-width)/2);diagramContainer.css("height",heightWindow-heightOffset+"px");diagramContainer.css("overflow","auto");diagramContainer.css("background-color",$(".gliffy-stage").css("background-color"))}diagram.css("position",
"");diagramContainer.show()};